# AWS Amplify Build Environment Variables
# Copy these to your Amplify Console environment variables

# Node.js Memory Configuration
NODE_OPTIONS=--max-old-space-size=65536 --max-semi-space-size=1024

# Next.js Build Optimization
NEXT_TELEMETRY_DISABLED=1
GENERATE_SOURCEMAP=false
NEXT_CONCURRENT_FEATURES=false
EXPERIMENTAL_PAGE_LIMIT=50

# Webpack Configuration
WEBPACK_PARALLELISM=1
WEBPACK_MAX_WORKERS=1

# TypeScript Configuration
TSC_COMPILE_ON_ERROR=true
TSC_WATCHFILE=prioritypollinginterval

# Build Process Configuration
AMPLIFY_BUILD_TIMEOUT=1800
CI=true
NODE_ENV=production

# Package Manager Configuration
NPM_CONFIG_JOBS=1
YARN_CHILD_CONCURRENCY=1
PNPM_WORKER_CONCURRENCY=1

# Sharp Image Processing (memory optimization)
NEXT_SHARP_PATH=/tmp/node_modules/sharp

# Disable Next.js build workers
NEXT_BUILD_WORKERS=1

# Amplify-specific settings
_CUSTOM_IMAGE=amplify:al2023
AMPLIFY_COMPUTE_TYPE=BUILD_GENERAL1_XLARGE

# Optional: Debug flags (uncomment if needed)
# DEBUG=next:*
# VERBOSE=true

# Build ID (will be generated dynamically)
# BUILD_ID=amplify-build-${timestamp}